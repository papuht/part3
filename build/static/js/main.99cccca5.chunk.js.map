{"version":3,"sources":["App.js","index.js"],"names":["Person","person","action","name","number","onClick","Form","onSubmit","value1","value2","onChange1","onChange2","value","onChange","type","App","props","addName","event","preventDefault","testnames","state","persons","map","console","log","testnumbers","includes","newName","newNumber","setState","axios","post","then","response","concat","data","removePerson","id","url","find","p","delete","window","location","reload","handleNameAdd","target","handleNumberAdd","get","this","key","React","Component","ReactDOM","render","document","getElementById"],"mappings":"qOAMMA,EAAS,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,OAMxB,OACA,4BACED,EAAOE,KADT,MACkBF,EAAOG,OADzB,IACiC,4BAAQC,QAAWH,GAAnB,cAW5BI,EAAO,SAAC,GAAsD,IAArDC,EAAoD,EAApDA,SAAUC,EAA0C,EAA1CA,OAAQC,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,UAEnD,OACA,6BACA,+CACO,0BAAMJ,SAAWA,GACf,sCACQ,2BAAOK,MAAOJ,EAAQK,SAAUH,KAE9C,wCACU,2BAAOE,MAAOH,EAAQI,SAAUF,KAEpC,6BACE,4BAAQG,KAAK,UAAb,mBA2KGC,E,YA5Jb,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KAoBRC,QAAU,SAACC,GACTA,EAAMC,iBAET,IAAMC,EAAY,EAAKC,MAAMC,QAAQC,KAAI,SAAAtB,GAAM,OAAIA,EAAOE,QAC1DqB,QAAQC,IAAIL,GACZ,IAAMM,EAAc,EAAKL,MAAMC,QAAQC,KAAI,SAAAtB,GAAM,OAAIA,EAAOG,UAE5D,GADAoB,QAAQC,IAAIC,GACRN,EAAUO,SAAS,EAAKN,MAAMO,UAAYF,EAAYC,SAAS,EAAKN,MAAMQ,WAC9EL,QAAQC,IAAI,sCAEZ,EAAKK,SAAS,CACbR,QAAS,EAAKD,MAAMC,QACpBM,QAAQ,GACRC,UAAU,SAKN,CAEL,IAAM5B,EAAS,CACZE,KAAM,EAAKkB,MAAMO,QACjBxB,OAAQ,EAAKiB,MAAMQ,WAGtBE,IAAMC,KAAK,wDAAyD/B,GACnEgC,MAAK,SAAAC,GACH,EAAKJ,SAAS,CAChBR,QAAS,EAAKD,MAAMC,QAAQa,OAAOD,EAASE,MACtCR,QAAS,GACfC,UAAW,UAnDQ,EA+DpBQ,aAAe,SAACC,GAChB,OAAM,WACH,IAAMC,EAAG,gEAA4DD,GAE/DD,EAAe,CAACpC,OADP,EAAKoB,MAAMC,QAAQkB,MAAK,SAAAC,GAAC,OAAIA,EAAEH,KAAO,CAACA,UAGtDP,IACGW,OAAOH,EAAKF,GACfJ,MAAK,SAAAC,GACPV,QAAQC,IAAIS,EAASE,MACrB,EAAKN,SAAS,CAACR,QAAS,EAAKD,MAAMC,UACnCqB,OAAOC,SAASC,cA1EG,EAyFnBC,cAAgB,SAAC5B,GAKf,EAAKY,SAAS,CAAEF,QAASV,EAAM6B,OAAOnC,SA9FrB,EAmGnBoC,gBAAkB,SAAC9B,GAKjB,EAAKY,SAAS,CAAED,UAAWX,EAAM6B,OAAOnC,SAtGxC,EAAKS,MAAQ,CACXC,QAAS,GACTM,QAAS,GACZC,UAAU,IAETL,QAAQC,IAAI,eAPK,E,iFAUE,IAAD,OAClBD,QAAQC,IAAI,aACZM,IACGkB,IAAI,yDACJhB,MAAK,SAAAC,GACJV,QAAQC,IAAI,qBACZ,EAAKK,SAAS,CAAER,QAASY,EAASE,Y,+BAmG9B,IAAD,OACJd,EAAU4B,KAAK7B,MAAMC,QAIxB,OACE,6BAGJ,kBAAC,EAAD,CAAMf,SAAY2C,KAAKjC,QAAST,OAAQ0C,KAAK7B,MAAMO,QAASnB,OAAQyC,KAAK7B,MAAMQ,UAAWnB,UAAWwC,KAAKJ,cAAenC,UAAWuC,KAAKF,kBAEzI,uCACA,4BACC1B,EAAQC,KAAI,SAAAtB,GAAM,OACnB,kBAAC,EAAD,CACCkD,IAAOlD,EAAOqC,GACdrC,OAAUA,EACVC,OAAU,EAAKmC,aAAapC,EAAOqC,e,GArIpBc,IAAMC,WC3CxBC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.99cccca5.chunk.js","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\n\r\n    \r\n\r\n\r\nconst Person = ({person, action}) => {\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\treturn (\r\n\t<li>\r\n\t\t{person.name}   {person.number} <button onClick = {action}> Poista </button>\r\n\t</li>\r\n\t\r\n\t\r\n\t\r\n\t)\r\n\r\n\t\r\n\r\n}\r\n\r\nconst Form = ({onSubmit, value1, value2, onChange1, onChange2}) => {\r\n\t\r\n\treturn (\r\n\t<div>\r\n\t<h2>Puhelinluettelo</h2>\r\n        <form onSubmit ={onSubmit}>\r\n          <div>\r\n            nimi: <input value={value1} onChange={onChange1}/>\r\n          </div>\r\n\t\t  <div>\r\n\t\t    numero: <input value={value2} onChange={onChange2} />\r\n\t\t  </div>\r\n          <div>\r\n            <button type=\"submit\">lisää</button>\r\n          </div>\r\n        </form>\r\n\t\t</div>\r\n\t)\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      persons: [],\r\n      newName: '',\r\n\t  newNumber:''\r\n    }\r\n    console.log('constructor')\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('did mount')\r\n    axios\r\n      .get('http://panunpuhelinluettelo.herokuapp.com/api/persons')\r\n      .then(response => {\r\n        console.log('promise fulfilled')\r\n        this.setState({ persons: response.data })\r\n      })\r\n  }\r\n\r\n  \r\n  addName = (event) => {\r\n    event.preventDefault()\r\n\t\r\n\tconst testnames = this.state.persons.map(person => person.name)\r\n\tconsole.log(testnames)\r\n\tconst testnumbers = this.state.persons.map(person => person.number)\r\n\tconsole.log(testnumbers)\r\n\tif (testnames.includes(this.state.newName) || testnumbers.includes(this.state.newNumber)) {\r\n\tconsole.log(\"this person is already on the list\");\r\n\t\r\n\tthis.setState({\r\n\t\tpersons: this.state.persons, \r\n\t\tnewName:'',\r\n\t\tnewNumber:''\r\n\t}\r\n\t)\r\n\t\r\n    }\r\n\telse {\r\n\t\r\n\tconst person = {\r\n    name: this.state.newName,\r\n    number: this.state.newNumber\r\n\t}\r\n\r\n\taxios.post('http://panunpuhelinluettelo.herokuapp.com/api/persons', person)\r\n\t.then(response => {\r\n    this.setState({\r\n\t\tpersons: this.state.persons.concat(response.data),\r\n        newName: '',\r\n\t\tnewNumber: ''\r\n      })\r\n    })\r\n\t\r\n\t\r\n\t\r\n  }\r\n\t\r\n  }\r\n\r\n\r\n\r\n\tremovePerson = (id) =>{  \r\n\treturn() => {\r\n    const url = `http://panunpuhelinluettelo.herokuapp.com/api/persons/${id}`\r\n    const person = this.state.persons.find(p => p.id === {id})\r\n    const removePerson = {person}\r\n\r\n    axios\r\n      .delete(url, removePerson)\r\n\t  .then(response => {\r\n\t\tconsole.log(response.data)\r\n\t\tthis.setState({persons: this.state.persons})\r\n\t\twindow.location.reload()\r\n      \r\n  }\r\n\t)}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n  \r\n\r\n\r\n\t\r\n \r\n  \r\n  \r\n  handleNameAdd = (event) => {\r\n\t\r\n  \r\n\t\r\n    \r\n    this.setState({ newName: event.target.value })\r\n\t\r\n  }\r\n  \r\n  \r\n  handleNumberAdd = (event) => {\r\n\t\r\n  \r\n\t\r\n    \r\n    this.setState({ newNumber: event.target.value })\r\n\t\r\n  }\r\n  \r\n  \r\n \r\n  \r\n  \r\n    \r\n\t\r\n\r\n  render() {\r\n\tconst persons = this.state.persons\r\n\t  \r\n\t  \r\n\t  \r\n    return (\r\n      <div>\r\n       \r\n\t\t\r\n\t\t<Form onSubmit = {this.addName} value1={this.state.newName} value2={this.state.newNumber} onChange1={this.handleNameAdd} onChange2={this.handleNumberAdd} />\r\n      \r\n\t\t<h2>Numerot</h2>\r\n\t\t<ul>\r\n\t\t{persons.map(person =>\r\n\t\t<Person \r\n\t\t\tkey = {person.id}\r\n\t\t\tperson = {person}\r\n\t\t\taction = {this.removePerson(person.id)}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/>\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t)} \r\n\t\t\r\n\t\t\r\n\t\t</ul>\r\n\t</div>\r\n        \r\n\t\t\r\n\r\n\t\t\r\n\t\t\r\n      \r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\n\n\n\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}